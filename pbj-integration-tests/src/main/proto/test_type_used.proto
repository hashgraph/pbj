// SPDX-License-Identifier: Apache-2.0
syntax = "proto3";
package pbj.integ.test.issue631.defined;

// <<<pbj.java_package = "com.hedera.pbj.test.issue631.used">>>

import "test_type_defined.proto";

/**
 * This test case reproduces issue #631 - using a proto package qualified type reference
 * where the type is from an imported file with a DIFFERENT PBJ Java package.
 * protoc will accept this because it's in the same proto package,
 * but PBJ needs the FULL proto package prefix to resolve the Java package mapping.
 */
message MerkleLeaf {
  oneof leaf {
    /**
     * Using proto-package-qualified name (not fully qualified for PBJ's purposes)
     * This should cause the PBJ error since BlockItem has a different pbj.java_package!
     */
    pbj.integ.test.issue631.defined.BlockItem block_item = 1;
  }
}
